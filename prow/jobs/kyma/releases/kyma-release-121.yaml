# Code generated by rendertemplates. DO NOT EDIT.


presubmits: # runs on PRs
  kyma-project/kyma:
    - name: pre-rel121-kyma-integration
      labels:
        preset-gc-project-env: "true"
        preset-kyma-guard-bot-github-token: "true"
        preset-sa-vm-kyma-integration: "true"
      run_if_changed: '^((resources\S+|installation\S+|tools/kyma-installer\S+)(\.[^.][^.][^.]+$|\.[^.][^dD]$|\.[^mM][^.]$|\.[^.]$|/[^.]+$))'
      skip_report: false
      decorate: true
      cluster: untrusted-workload
      max_concurrency: 10
      branches:
        - ^release-1.21$
      extra_refs:
        - org: kyma-project
          repo: test-infra
          path_alias: github.com/kyma-project/test-infra
          base_ref: release-1.21
      spec:
        containers:
          - image: "eu.gcr.io/kyma-project/test-infra/kyma-integration:current"
            securityContext:
              privileged: true
            command:
              - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/provision-vm-and-start-kyma-minikube.sh"
            resources:
              requests:
                memory: 100Mi
                cpu: 50m
    - name: pre-rel121-kyma-gke-integration
      labels:
        preset-build-pr: "true"
        preset-cluster-use-ssd: "true"
        preset-cluster-version: "true"
        preset-dind-enabled: "true"
        preset-docker-push-repository-gke-integration: "true"
        preset-gc-compute-envs: "true"
        preset-gc-project-env: "true"
        preset-kyma-artifacts-bucket: "true"
        preset-kyma-guard-bot-github-token: "true"
        preset-sa-gke-kyma-integration: "true"
        preset-sa-test-gcr-push: "true"
      run_if_changed: '^((resources\S+|installation\S+|tools/kyma-installer\S+)(\.[^.][^.][^.]+$|\.[^.][^dD]$|\.[^mM][^.]$|\.[^.]$|/[^.]+$))'
      skip_report: false
      decorate: true
      cluster: untrusted-workload
      max_concurrency: 10
      branches:
        - ^release-1.21$
      extra_refs:
        - org: kyma-project
          repo: test-infra
          path_alias: github.com/kyma-project/test-infra
          base_ref: release-1.21
      spec:
        containers:
          - image: "eu.gcr.io/kyma-project/test-infra/kyma-integration:current"
            securityContext:
              privileged: true
            command:
              - "bash"
            args:
              - "-c"
              - "${KYMA_PROJECT_DIR}/test-infra/prow/scripts/cluster-integration/kyma-gke-integration.sh"
            env:
              - name: CLOUDSDK_COMPUTE_ZONE
                value: "europe-west4-b"
            resources:
              requests:
                memory: 200Mi
                cpu: 80m
    - name: pre-rel121-kyma-gke-upgrade
      labels:
        preset-build-pr: "true"
        preset-cluster-use-ssd: "true"
        preset-cluster-version: "true"
        preset-dind-enabled: "true"
        preset-docker-push-repository-gke-integration: "true"
        preset-gc-compute-envs: "true"
        preset-gc-project-env: "true"
        preset-kyma-artifacts-bucket: "true"
        preset-kyma-guard-bot-github-token: "true"
        preset-sa-gke-kyma-integration: "true"
        preset-sa-test-gcr-push: "true"
      run_if_changed: '^((resources\S+|installation\S+|tests/end-to-end/upgrade/chart/upgrade/\S+|tools/kyma-installer\S+)(\.[^.][^.][^.]+$|\.[^.][^dD]$|\.[^mM][^.]$|\.[^.]$|/[^.]+$))'
      skip_report: false
      decorate: true
      cluster: untrusted-workload
      max_concurrency: 10
      branches:
        - ^release-1.21$
      extra_refs:
        - org: kyma-project
          repo: test-infra
          path_alias: github.com/kyma-project/test-infra
          base_ref: release-1.21
      spec:
        containers:
          - image: "eu.gcr.io/kyma-project/test-infra/kyma-integration:current"
            securityContext:
              privileged: true
            command:
              - "bash"
            args:
              - "-c"
              - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/kyma-gke-upgrade.sh"
            env:
              - name: CLOUDSDK_COMPUTE_ZONE
                value: "europe-west4-b"
              - name: MACHINE_TYPE
                value: "n1-highcpu-16"
              - name: NODES_PER_ZONE
                value: "1"
              - name: PROVISION_REGIONAL_CLUSTER
                value: "true"
              - name: SCENARIO_TYPE
                value: release
            resources:
              requests:
                memory: 200Mi
                cpu: 80m
  
postsubmits: # runs on master
  kyma-project/kyma:
    - name: post-rel121-kyma-integration
      annotations:
        description: "Kyma integration job for release 1.21 ."
        testgrid-dashboards: "kyma_release-1.21"
      labels:
        preset-build-master: "true"
        preset-gc-project-env: "true"
        preset-kyma-guard-bot-github-token: "true"
        preset-sa-vm-kyma-integration: "true"
      skip_report: false
      decorate: true
      cluster: trusted-workload
      max_concurrency: 10
      branches:
        - ^release-1.21$
      extra_refs:
        - org: kyma-project
          repo: test-infra
          path_alias: github.com/kyma-project/test-infra
          base_ref: release-1.21
      spec:
        containers:
          - image: "eu.gcr.io/kyma-project/test-infra/kyma-integration:current"
            securityContext:
              privileged: true
            command:
              - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/provision-vm-and-start-kyma-minikube.sh"
            resources:
              requests:
                memory: 100Mi
                cpu: 50m
    - name: post-rel121-kyma-gke-integration
      annotations:
        description: "Kyma GKE integration job for release 1.21."
        testgrid-dashboards: "kyma_release-1.21"
        testgrid-days-of-results: "60"
      labels:
        preset-build-release: "true"
        preset-cluster-use-ssd: "true"
        preset-cluster-version: "true"
        preset-dind-enabled: "true"
        preset-docker-push-repository-gke-integration: "true"
        preset-gc-compute-envs: "true"
        preset-gc-project-env: "true"
        preset-kyma-artifacts-bucket: "true"
        preset-kyma-guard-bot-github-token: "true"
        preset-log-collector-slack-token: "true"
        preset-sa-gke-kyma-integration: "true"
        preset-sa-test-gcr-push: "true"
      skip_report: false
      decorate: true
      cluster: trusted-workload
      max_concurrency: 10
      branches:
        - ^release-1.21$
      extra_refs:
        - org: kyma-project
          repo: test-infra
          path_alias: github.com/kyma-project/test-infra
          base_ref: release-1.21
      spec:
        containers:
          - image: "eu.gcr.io/kyma-project/test-infra/kyma-integration:current"
            securityContext:
              privileged: true
            command:
              - "bash"
            args:
              - "-c"
              - "${KYMA_PROJECT_DIR}/test-infra/prow/scripts/cluster-integration/kyma-gke-integration.sh"
            env:
              - name: CLOUDSDK_COMPUTE_ZONE
                value: "europe-west4-b"
            resources:
              requests:
                memory: 200Mi
                cpu: 80m
    - name: post-rel121-kyma-gke-upgrade
      annotations:
        description: "Kyma GKE upgrade job for release 1.21."
        testgrid-dashboards: "kyma_release-1.21"
        testgrid-days-of-results: "60"
      labels:
        preset-build-release: "true"
        preset-cluster-use-ssd: "true"
        preset-cluster-version: "true"
        preset-dind-enabled: "true"
        preset-docker-push-repository-gke-integration: "true"
        preset-gc-compute-envs: "true"
        preset-gc-project-env: "true"
        preset-gke-upgrade-post-job: "true"
        preset-kyma-artifacts-bucket: "true"
        preset-kyma-guard-bot-github-token: "true"
        preset-log-collector-slack-token: "true"
        preset-sa-gke-kyma-integration: "true"
        preset-sa-test-gcr-push: "true"
      skip_report: false
      decorate: true
      cluster: trusted-workload
      max_concurrency: 10
      branches:
        - ^release-1.21$
      extra_refs:
        - org: kyma-project
          repo: test-infra
          path_alias: github.com/kyma-project/test-infra
          base_ref: release-1.21
      spec:
        containers:
          - image: "eu.gcr.io/kyma-project/test-infra/kyma-integration:current"
            securityContext:
              privileged: true
            command:
              - "bash"
            args:
              - "-c"
              - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/kyma-gke-upgrade.sh"
            env:
              - name: CLOUDSDK_COMPUTE_ZONE
                value: "europe-west4-b"
              - name: MACHINE_TYPE
                value: "n1-highcpu-16"
              - name: NODES_PER_ZONE
                value: "1"
              - name: PROVISION_REGIONAL_CLUSTER
                value: "true"
            resources:
              requests:
                memory: 200Mi
                cpu: 80m
    - name: post-rel121-kyma-release-candidate
      annotations:
        description: "Release candidate job for Kyma 1.21."
        testgrid-dashboards: "kyma_release-1.21"
        testgrid-days-of-results: "60"
      labels:
        preset-cluster-version: "true"
        preset-dind-enabled: "true"
        preset-docker-push-repository-kyma: "true"
        preset-gc-project-env: "true"
        preset-gke-kyma-developers-group: "true"
        preset-kyma-artifacts-bucket: "true"
        preset-sa-gke-kyma-integration: "true"
      skip_report: false
      decorate: true
      cluster: trusted-workload
      max_concurrency: 10
      branches:
        - ^1.21\.\d+(?:-.*)?$
      extra_refs:
        - org: kyma-project
          repo: test-infra
          path_alias: github.com/kyma-project/test-infra
          base_ref: release-1.21
      spec:
        containers:
          - image: "eu.gcr.io/kyma-project/test-infra/kyma-integration:current"
            securityContext:
              privileged: true
            command:
              - "bash"
            args:
              - "-c"
              - "${KYMA_PROJECT_DIR}/test-infra/prow/scripts/cluster-integration/kyma-gke-release-candidate.sh"
            resources:
              requests:
                memory: 200Mi
                cpu: 80m
    - name: post-rel121-kyma-gke-release-upgrade
      annotations:
        testgrid-dashboards: "kyma_release-1.21"
        testgrid-days-of-results: "90"
      skip_report: false
      decorate: true
      cluster: trusted-workload
      max_concurrency: 10
      branches:
        - ^1.21\.\d+(?:-.*)?$
      extra_refs:
        - org: kyma-project
          repo: test-infra
          path_alias: github.com/kyma-project/test-infra
          base_ref: release-1.21
      spec:
        containers:
          - image: "eu.gcr.io/kyma-project/test-infra/kyma-integration:current"
            securityContext:
              privileged: true
            command:
              - "bash"
            args:
              - "-c"
              - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/kyma-gke-rel2rel-upgrade.sh"
            env:
              - name: CLOUDSDK_COMPUTE_ZONE
                value: "europe-west4-b"
              - name: MACHINE_TYPE
                value: "n1-highcpu-16"
              - name: NODES_PER_ZONE
                value: "1"
              - name: PROVISION_REGIONAL_CLUSTER
                value: "true"
            resources:
              requests:
                memory: 1.5Gi
                cpu: 0.8
