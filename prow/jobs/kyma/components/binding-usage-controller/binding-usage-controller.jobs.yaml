presubmits: # runs on PRs
  kyma-project/kyma:
  - name: prow/kyma/components/binding-usage-controller
    run_if_changed: "components/binding-usage-controller/"
    context: prow/kyma/components/binding-usage-controller
    branch: master
    skip_report: true
    decorate: true
    path_alias: github.com/kyma-project/kyma
    extra_refs:
    - org: kyma-project
      repo: test-infra
      base_ref: master
      path_alias: github.com/kyma-project/test-infra
    labels:
      preset-dind-enabled: "true"
      preset-sa-gcr-push: "true"
      preset-docker-push-repository: "true"
      preset-build-pr: "true"
    spec:
      containers:
      - image: eu.gcr.io/kyma-project/prow/buildpack-golang:0.0.1
        securityContext:
          privileged: true
        command:
        - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/pipeline.sh"
        env:
        - name: SOURCES_DIR
          value: "/home/prow/go/src/github.com/kyma-project/kyma/components/binding-usage-controller"