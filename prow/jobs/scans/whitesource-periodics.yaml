# Code generated by rendertemplates. DO NOT EDIT.

test_infra_ref: &test_infra_ref
  org: kyma-project
  repo: test-infra
  path_alias: github.com/kyma-project/test-infra
  base_ref: master

periodics:
  - name: control-plane-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "0 4 * * *" # At 04:00 am every day
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-project-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-project
          repo: control-plane
          path_alias: github.com/kyma-project/control-plane
          base_ref: master
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: control-plane
            - name: CUSTOM_PROJECTNAME
              value: 
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: golang-mod
          resources:
            requests:
              memory: 1Gi
              cpu: 400m

  - name: kyma-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "0 4 * * *" # At 04:00 am every day
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-project-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-project
          repo: kyma
          path_alias: github.com/kyma-project/kyma
          base_ref: master
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: kyma
            - name: CUSTOM_PROJECTNAME
              value: 
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: golang
          resources:
            requests:
              memory: 1Gi
              cpu: 400m

  - name: kyma-mod-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "0 4 * * *" # At 04:00 am every day
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-project-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-project
          repo: kyma
          path_alias: github.com/kyma-project/kyma
          base_ref: master
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: kyma
            - name: CUSTOM_PROJECTNAME
              value: kyma-mod
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: golang-mod
          resources:
            requests:
              memory: 1Gi
              cpu: 400m

  - name: console-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "0 4 * * *" # At 04:00 am every day
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-project-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-project
          repo: console
          path_alias: github.com/kyma-project/console
          base_ref: master
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: console
            - name: CUSTOM_PROJECTNAME
              value: 
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: javascript
          resources:
            requests:
              memory: 1Gi
              cpu: 400m

  - name: cli-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "0 4 * * *" # At 04:00 am every day
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-project-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-project
          repo: cli
          path_alias: github.com/kyma-project/cli
          base_ref: master
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: cli
            - name: CUSTOM_PROJECTNAME
              value: 
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: golang-mod
          resources:
            requests:
              memory: 1Gi
              cpu: 400m

  - name: helm-broker-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "0 4 * * *" # At 04:00 am every day
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-project-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-project
          repo: helm-broker
          path_alias: github.com/kyma-project/helm-broker
          base_ref: master
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: helm-broker
            - name: CUSTOM_PROJECTNAME
              value: 
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: golang-mod
          resources:
            requests:
              memory: 1Gi
              cpu: 400m

  - name: rafter-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "0 4 * * *" # At 04:00 am every day
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-project-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-project
          repo: rafter
          path_alias: github.com/kyma-project/rafter
          base_ref: master
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: rafter
            - name: CUSTOM_PROJECTNAME
              value: 
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: golang-mod
          resources:
            requests:
              memory: 1Gi
              cpu: 400m

  - name: compass-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "0 4 * * *" # At 04:00 am every day
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-incubator-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-incubator
          repo: compass
          path_alias: github.com/kyma-incubator/compass
          base_ref: master
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: compass
            - name: CUSTOM_PROJECTNAME
              value: 
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: golang-mod
          resources:
            requests:
              memory: 1Gi
              cpu: 400m

  - name: knative-kafka-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "0 4 * * *" # At 04:00 am every day
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-incubator-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-incubator
          repo: knative-kafka
          path_alias: github.com/kyma-incubator/knative-kafka
          base_ref: release-0.12
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: knative-kafka
            - name: CUSTOM_PROJECTNAME
              value: 
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: golang
          resources:
            requests:
              memory: 1Gi
              cpu: 400m

  - name: api-gateway-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "0 4 * * *" # At 04:00 am every day
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-incubator-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-incubator
          repo: api-gateway
          path_alias: github.com/kyma-incubator/api-gateway
          base_ref: master
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: api-gateway
            - name: CUSTOM_PROJECTNAME
              value: 
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: golang-mod
          resources:
            requests:
              memory: 1Gi
              cpu: 400m

  - name: dex-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "0 4 * * *" # At 04:00 am every day
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-incubator-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-incubator
          repo: dex
          path_alias: github.com/kyma-incubator/dex
          base_ref: kyma-master
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: dex
            - name: CUSTOM_PROJECTNAME
              value: 
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: golang-mod
          resources:
            requests:
              memory: 1Gi
              cpu: 400m


#-------------Release-----------------------------


  - name: release-kyma-1.17-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "5 5 5 5 5" #once per year
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-project-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-project
          repo: kyma
          path_alias: github.com/kyma-project/kyma
          base_ref: release-1.17
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: kyma
            - name: CUSTOM_PROJECTNAME
              value: release-kyma
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: golang
          resources:
            requests:
              memory: 1Gi
              cpu: 400m

  - name: release-kyma-mod-1.17-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "5 5 5 5 5" #once per year
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-project-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-project
          repo: kyma
          path_alias: github.com/kyma-project/kyma
          base_ref: release-1.17
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: kyma
            - name: CUSTOM_PROJECTNAME
              value: release-kyma-mod
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: golang-mod
          resources:
            requests:
              memory: 1Gi
              cpu: 400m

  - name: release-cli-1.17-whitesource-scan
    annotations:
      testgrid-create-test-group: "false"
    cluster: trusted-workload
    decorate: true
    cron: "5 5 5 5 5" #once per year
    labels:
        preset-kyma-wssagent-config: "true"
        preset-wssagent-keys: "true"
        preset-kyma-keyring: "true"
        preset-kyma-encryption-key: "true"
        preset-kms-gc-project-env: "true"
        preset-gc-project-env: "true"
        preset-sa-gke-kyma-integration-kyma-project-whitesource: "true"
    extra_refs:
        - <<: *test_infra_ref
        - org: kyma-project
          repo: cli
          path_alias: github.com/kyma-project/cli
          base_ref: release-1.17
    spec:
        containers:
        - image: eu.gcr.io/kyma-project/test-infra/wssagent:v20200917-6588f400
          command:
            - "bash"
          args:
            - "-c"
            - "/home/prow/go/src/github.com/kyma-project/test-infra/prow/scripts/cluster-integration/helpers/start-wssagent.sh"
          env:
            - name : PROJECTNAME
              value: cli
            - name: CUSTOM_PROJECTNAME
              value: release-cli
            - name: DRYRUN
              value: "false"
            - name: SCAN_LANGUAGE
              value: golang-mod
          resources:
            requests:
              memory: 1Gi
              cpu: 400m

