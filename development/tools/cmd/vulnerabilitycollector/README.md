# Vulnerability Collector

## Overview
The tool queries the public google container repository API for all containers it can find for a given project, while traversing paths as they're found. With the generated list of containers, it will pick the last built container and runs a check for any security vulnerabilities found from the GCR.io vulnerability scanner. If a region, path or whitelist is specified, the number of queries is drastically reduced.

If the region parameter is left out, the global region is assumed. If it is passed, the region is checked if it is either `eu` or `us`.

## Usage

To run it, use:

```bash
go run main.go -project="kyma-project" -region="eu" -path="test-infra"
```

You're able to specify a comma separeted whitelist, to limit paths to run on:
```bash
go run main.go -project="kyma-project" -region="eu" -whitelist="test-infra,pr"
```

## Output
```bash
WARN[0002] Severity HIGH libtasn1-6 4.13
WARN[0002] Severity HIGH libxrender 0.9.10
.........
WARN[0002] Severity HIGH dpkg 1.19.0.5ubuntu2.1
WARN[0002] Severity HIGH libxrender 0.9.10
WARN[0002] Number of High issues 16
INFO[0002] Number of issues 106
```