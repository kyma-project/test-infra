# Vulnerability Collector

## Overview
The Vulnerability Collector queries the public Google container repository API about all containers in a given project while traversing paths as they're found. The result is a generated list of containers. The Vulnerability Collector picks the latest container and runs a check for any security vulnerabilities found by the GCR.io vulnerability scanner. If a region or path is specified, the number of queries is drastically reduced.

If the **region** parameter is left out, the **global region** is taken into account. If the **region** parameter is provided, it is checked if it is either `eu` or `us`.

## Usage

To use the Vulnerability Collector, run:

```bash
go run main.go -project="kyma-project" -region="eu" -path="test-infra" -dryRun=false
```

### Output

See the following example of output provided by the Vulnerability Collector.
```bash
WARN[0023] Severity 'HIGH' for package 'linux' with version '4.9.189-3+deb9u2'. Known fix in version '4.9.210-1' 
WARN[0023] Severity 'HIGH' for package 'bzip2' with version '1.0.6-8.1'. No known fix available. 
WARN[0023] Severity 'HIGH' for package 'sqlite3' with version '3.16.2-5+deb9u1'. No known fix available. 
WARN[0023] Severity 'HIGH' for package 'libtasn1-6' with version '4.10-1.1+deb9u1'. No known fix available. 
WARN[0023] Severity 'HIGH' for package 'util-linux' with version '2.29.2-1+deb9u1'. No known fix available. 
WARN[0023] Severity 'HIGH' for package 'libcroco' with version '0.6.11-3'. No known fix available. 
WARN[0023] Severity 'HIGH' for package 'libonig' with version '6.1.3-2'. No known fix available.
...
WARN[0023] 79 of 490 issues were of severity HIGH
```
