periodics:
- interval: 10m
  name: echo-test
  decorate: true
  spec:
    containers:
    - image: alpine
      command: ["/bin/date"]

postsubmits:
  Demonsthere/test-infra:
  - name: test-postsubmit
    decorate: true
    spec:
      containers:
      - image: alpine
        command: ["/bin/printenv"]

presubmits:
  Demonsthere/test-infra:
  - name: test-presubmit
    decorate: true
    always_run: true
    skip_report: true
    spec:
      containers:
      - image: alpine
        command: ["/bin/printenv"]
  - name: Check yamls
    decorate: true
    always_run: true
    skip_report: true
    spec:
      containers:
        - image: eu.gcr.io/kyma-project/prow/buildpack-golang:0.0.1
          command:
            - "tail -f /dev/null"
            #- "/home/prow/go/src/github.com/Demonsthere/test-infra/development/check.sh /home/prow/go/src/github.com/Demonsthere/test-infra/plugins.yaml /home/prow/go/src/github.com/Demonsthere/test-infra/config.yaml"

plank:
  allow_cancellations: true # AllowCancellations enables aborting presubmit jobs for commits that have been superseded by newer commits in Github pull requests.
  pod_pending_timeout: 60m
  default_decoration_config:
    timeout: 7200000000000 # 2h
    grace_period: 15000000000 # 15s
    utility_images:
      clonerefs: "gcr.io/k8s-prow/clonerefs:v20181019-08e9d55c9"
      initupload: "gcr.io/k8s-prow/initupload:v20181019-08e9d55c9"
      entrypoint: "gcr.io/k8s-prow/entrypoint:v20181019-08e9d55c9"
      sidecar: "gcr.io/k8s-prow/sidecar:v20181019-08e9d55c9"
    gcs_configuration:
      bucket: jb-prow-secret
      path_strategy: "explicit"
    gcs_credentials_secret: "jb-sa-gcs-plank" # Service account with "Object Admin" role